---
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/sections/Footer.astro';
import Header from '../components/sections/Header.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
---

<!doctype html>
<html lang="zh-CN" data-theme="dark" class="dark">
	<head>
		<BaseHead title={`随机字符工具 - ${SITE_TITLE}`} description="生成指定长度和类型的随机字符" />
	</head>
	<body>
		<Header />
		<main>
      <section class="py-1 px-4">
        <div class="max-w-4xl mx-auto">
          <h1 class="text-3xl md:text-4xl font-bold text-center mb-8">随机字符工具</h1>
          <div class="card-surface p-8">
            <div class="mb-6">
              <label for="length" class="block text-sm font-medium mb-2">字符长度</label>
              <input type="number" id="length" min="1" max="100" value="10" class="w-full p-3 border border-gray-300 rounded-lg dark:border-gray-700 dark:bg-gray-800" />
            </div>
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2">字符类型</label>
              <div class="grid grid-cols-2 gap-4">
                <label class="flex items-center">
                  <input type="checkbox" id="uppercase" checked class="mr-2" />
                  <span>大写字母 (A-Z)</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" id="lowercase" checked class="mr-2" />
                  <span>小写字母 (a-z)</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" id="numbers" checked class="mr-2" />
                  <span>数字 (0-9)</span>
                </label>
                <label class="flex items-center">
                  <input type="checkbox" id="symbols" class="mr-2" />
                  <span>符号 (!@#$%^&*)</span>
                </label>
              </div>
            </div>
            <div class="mb-6">
              <button id="generate" class="w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors">生成随机字符</button>
            </div>
            <div class="mb-6">
              <label for="result" class="block text-sm font-medium mb-2">结果</label>
              <div class="flex">
                <input type="text" id="result" readonly class="flex-1 p-3 border border-gray-300 rounded-l-lg dark:border-gray-700 dark:bg-gray-800" />
                <button id="copy" class="px-4 bg-gray-200 text-gray-800 rounded-r-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200">复制</button>
              </div>
            </div>
          </div>
        </div>
      </section>
		</main>
		<Footer />
		<script>
      document.getElementById('generate').addEventListener('click', () => {
        const length = parseInt(document.getElementById('length').value);
        const uppercase = document.getElementById('uppercase').checked;
        const lowercase = document.getElementById('lowercase').checked;
        const numbers = document.getElementById('numbers').checked;
        const symbols = document.getElementById('symbols').checked;
        
        let charset = '';
        if (uppercase) charset += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        if (lowercase) charset += 'abcdefghijklmnopqrstuvwxyz';
        if (numbers) charset += '0123456789';
        if (symbols) charset += '!@#$%^&*()_+-=[]{}|;:,.<>?';
        
        if (charset === '') {
          alert('请至少选择一种字符类型');
          return;
        }
        
        let result = '';
        for (let i = 0; i < length; i++) {
          result += charset.charAt(Math.floor(Math.random() * charset.length));
        }
        
        document.getElementById('result').value = result;
      });
      
      document.getElementById('copy').addEventListener('click', () => {
        const result = document.getElementById('result');
        result.select();
        document.execCommand('copy');
        alert('已复制到剪贴板');
      });
    </script>
	</body>
</html>